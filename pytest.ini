[pytest]
minversion = 7.0
addopts = -ra -q --strict-markers --strict-config --maxfail=1 --disable-warnings --cov=tooluniverse --cov-report=term-missing:skip-covered -m "not slow and not require_api_keys and not network" --ignore=tests/tools --ignore=tests/examples --ignore=tests/api
testpaths = 
    tests/unit
    tests/integration
    tests/tools
    tests/api
pythonpath = src
asyncio_default_fixture_loop_scope = function
filterwarnings =
    error::DeprecationWarning:tooluniverse.*
    ignore::DeprecationWarning
markers =
    unit: fast, isolated unit tests
    integration: network or external-resource tests
    fast: quick tests that should always run in CI
    network: tests requiring external API calls or network access
    slow: long-running tests (use with -m "not slow")
    require_api_keys: tests requiring API keys
    require_gpu: tests requiring GPU for execution
    legacy: legacy tests kept for reference
    asyncio: tests that use pytest-asyncio for event loop handling
    mcp: tests for Model Context Protocol functionality
    hooks: tests for hooks system functionality
    stdio: tests for stdio mode functionality
    composition: tests for tool composition functionality
    workflows: tests for scientific workflows
    ai_scientists: tests for AI scientist integrations
    examples: tests for example validation
    batch: tests for batch processing functionality
timeout = 300

